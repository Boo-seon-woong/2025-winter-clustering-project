# Shared
NODE_ID=boosw1
CLUSTER_NODES=boosw1@127.0.0.1:4000
#,boosw2@127.0.0.1:4001,boosw3@127.0.0.1:4002
SINGLE_NODE=true
PARTITIONS=256

# Backend (final_node/server/backend)
SERVER_HOST=127.0.0.1
SERVER_PORT=3000
KVS_HOST=127.0.0.1
KVS_PORT=4000

# Stateless auth
AUTH_TOKEN_SECRET=replace-with-long-random-secret
AUTH_TOKEN_TTL_SEC=86400

# Backend overload control
SERVER_MAX_INFLIGHT=600
SERVER_MAX_QUEUE=2000
SERVER_QUEUE_TIMEOUT_MS=60
SERVER_REQUEST_TIMEOUT_MS=15000
SERVER_OP_TIMEOUT_MS=8000
SERVER_BODY_TIMEOUT_MS=5000

# Backend list/feed behavior
LIST_POSTS_LIMIT=100
LIST_POSTS_CACHE_TTL_MS=120
LIST_POSTS_CACHE_STALE_MS=3000
LIST_POSTS_CONCURRENCY=8
LIST_POSTS_BUDGET_MS=3000
LIST_POSTS_ITEM_TIMEOUT_MS=1000
LIST_POSTS_TITLES_TIMEOUT_MS=1000

# Backend -> KVS client
KVS_KEEP_ALIVE=1
KVS_MAX_SOCKETS=1024
KVS_MAX_FREE_SOCKETS=256
KVS_TIMEOUT_MS=1000
KVS_HARD_TIMEOUT_MS=2200
KVS_RETRY_ATTEMPTS=2
KVS_RETRY_BASE_MS=20
KVS_RETRY_MAX_MS=120
KVS_CB_FAILURE_THRESHOLD=8
KVS_CB_COOLDOWN_MS=500

# Cross-node post_event broadcast (best-effort async)
PEER_BROADCAST_ENABLED=1
PEER_BROADCAST_WORKERS=2
PEER_BROADCAST_QUEUE_MAX=2000
PEER_BROADCAST_TIMEOUT_MS=350

# KVS (final_node/kvs)
DB_PATH=/root/root/final_node/kvs/db
KVS_RPC_TIMEOUT_MS=450
KVS_READ_REMOTE_TIMEOUT_MS=300
KVS_LIST_TITLES_REMOTE_ENABLED=1
KVS_LIST_TITLES_REMOTE_TIMEOUT_MS=220
KVS_LIST_TITLES_REMOTE_BUDGET_MS=350
KVS_LIST_TITLES_REMOTE_PER_PEER_LIMIT=40
KVS_ALIVE_CACHE_MS=250
KVS_DEAD_CACHE_MS=80
KVS_ALIVE_PING_TIMEOUT_MS=120

PASSWORD_SALT=rdb-demo-salt
